<div class="flex">

  <!-- Preview -->
  <div class="flex-1">

    @for (section of builder.sections(); track section.id) {

      <div (click)="builder.selectSection(section)">

        @switch (section.type) {

          @case ('hero') {
            @let heroProps = getHeroProps(section);
            <app-hero-section
              [title]="heroProps.title"
              [subtitle]="heroProps.subtitle"
              [buttonText]="heroProps.buttonText"
              [whatsappNumber]="heroProps.whatsappNumber"
              [imageUrl]="heroProps.imageUrl"
            />
          }

          @case ('features') {
            @let featuresProps = getFeaturesProps(section);
            <app-features-section
              [sectionTitle]="featuresProps.sectionTitle"
              [items]="featuresProps.items"
            />
          }

          @case ('cta') {
            @let ctaProps = getCtaProps(section);
            <app-cta-section
              [title]="ctaProps.title"
              [subtitle]="ctaProps.subtitle"
              [buttonText]="ctaProps.buttonText"
              [whatsappNumber]="ctaProps.whatsappNumber"
            />
          }

        }

      </div>

    }

  </div>

  <!-- Panel lateral -->
  <app-section-editor />

</div>
